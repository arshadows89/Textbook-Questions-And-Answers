#What does this error mean? 
#test_code.rb:96: syntax error, unexpected end-of-input, expecting keyword_end

###ANSWER###
#You are missing a end somewhere in you code, for the given example you never ended the if statement.